<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Clocks and Sampled-Data Systems · ModelingToolkit.jl</title><meta name="title" content="Clocks and Sampled-Data Systems · ModelingToolkit.jl"/><meta property="og:title" content="Clocks and Sampled-Data Systems · ModelingToolkit.jl"/><meta property="twitter:title" content="Clocks and Sampled-Data Systems · ModelingToolkit.jl"/><meta name="description" content="Documentation for ModelingToolkit.jl."/><meta property="og:description" content="Documentation for ModelingToolkit.jl."/><meta property="twitter:description" content="Documentation for ModelingToolkit.jl."/><meta property="og:url" content="https://docs.sciml.ai/ModelingToolkit/stable/tutorials/SampledData/"/><meta property="twitter:url" content="https://docs.sciml.ai/ModelingToolkit/stable/tutorials/SampledData/"/><link rel="canonical" href="https://docs.sciml.ai/ModelingToolkit/stable/tutorials/SampledData/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ModelingToolkit.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ModelingToolkit.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../ode_modeling/">Getting Started with ModelingToolkit.jl</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../acausal_components/">Acausal Component-Based Modeling</a></li><li><a class="tocitem" href="../nonlinear/">Modeling Nonlinear Systems</a></li><li><a class="tocitem" href="../initialization/">Initialization of Systems</a></li><li><a class="tocitem" href="../optimization/">Modeling Optimization Problems</a></li><li><a class="tocitem" href="../modelingtoolkitize/">Modelingtoolkitize: Automatically Translating Numerical to Symbolic Code</a></li><li><a class="tocitem" href="../programmatically_generating/">Programmatically Generating and Scripting Systems</a></li><li><a class="tocitem" href="../stochastic_diffeq/">Modeling with Stochasticity</a></li><li><a class="tocitem" href="../dynamic_optimization/">Solving Dynamic Optimization Problems</a></li><li><a class="tocitem" href="../discrete_system/">(Experimental) Modeling Discrete Systems</a></li><li><a class="tocitem" href="../parameter_identifiability/">Parameter Identifiability in ODE Models</a></li><li><a class="tocitem" href="../change_independent_variable/">Changing the independent variable of ODEs</a></li><li><a class="tocitem" href="../bifurcation_diagram_computation/">Bifurcation Diagrams</a></li><li><a class="tocitem" href="../attractors/">Multi- and Nonlocal- Continuation</a></li><li class="is-active"><a class="tocitem" href>Clocks and Sampled-Data Systems</a><ul class="internal"><li><a class="tocitem" href="#Higher-order-shifts"><span>Higher-order shifts</span></a></li><li><a class="tocitem" href="#Initial-conditions"><span>Initial conditions</span></a></li><li><a class="tocitem" href="#Multiple-clocks"><span>Multiple clocks</span></a></li><li><a class="tocitem" href="#Accessing-discrete-time-variables-in-the-solution"><span>Accessing discrete-time variables in the solution</span></a></li><li><a class="tocitem" href="#A-complete-example"><span>A complete example</span></a></li></ul></li><li><a class="tocitem" href="../domain_connections/">Domains</a></li><li><a class="tocitem" href="../callable_params/">Callable parameters and interpolating data</a></li><li><a class="tocitem" href="../linear_analysis/">Linear Analysis</a></li><li><a class="tocitem" href="../disturbance_modeling/">Disturbance and input modeling modeling</a></li><li><a class="tocitem" href="../fmi/">Importing FMUs</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Basic Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/higher_order/">Automatic Transformation of Nth Order ODEs to 1st Order ODEs</a></li><li><a class="tocitem" href="../../examples/spring_mass/">Component-Based Modeling of a Spring-Mass System</a></li><li><a class="tocitem" href="../../examples/modelingtoolkitize_index_reduction/">Automated Index Reduction of DAEs</a></li><li><a class="tocitem" href="../../examples/remake/">Optimizing through an ODE solve and re-creating MTK Problems</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Advanced Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/tearing_parallelism/">Exposing More Parallelism By Tearing Algebraic Equations in Systems</a></li><li><a class="tocitem" href="../../examples/sparse_jacobians/">Automated Sparse Analytical Jacobians</a></li><li><a class="tocitem" href="../../examples/perturbation/">Symbolic-Numeric Perturbation Theory for ODEs</a></li></ul></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../API/System/">The <code>System</code> type</a></li><li><a class="tocitem" href="../../API/variables/">Symbolic variables and variable metadata</a></li><li><a class="tocitem" href="../../API/model_building/">Model building reference</a></li><li><a class="tocitem" href="../../API/problems/">Building and solving numerical problems</a></li><li><a class="tocitem" href="../../API/dynamic_opt/">Dynamic Optimization Solvers</a></li><li><a class="tocitem" href="../../API/codegen/">Code generation utilities</a></li><li><a class="tocitem" href="../../API/PDESystem/">PDESystem</a></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../../basics/Composition/">Composing Models and Building Reusable Components</a></li><li><a class="tocitem" href="../../basics/Events/">Event Handling and Callback Functions</a></li><li><a class="tocitem" href="../../basics/Linearization/">Linearization</a></li><li><a class="tocitem" href="../../basics/InputOutput/">Input output</a></li><li><a class="tocitem" href="../../basics/MTKLanguage/">ModelingToolkit Language: Modeling with <code>@mtkmodel</code>, <code>@connectors</code> and <code>@mtkcompile</code></a></li><li><a class="tocitem" href="../../basics/Validation/">Model Validation and Units</a></li><li><a class="tocitem" href="../../basics/Debugging/">Debugging</a></li><li><a class="tocitem" href="../../basics/DependencyGraphs/">Dependency Graphs</a></li><li><a class="tocitem" href="../../basics/Precompilation/">Working with Precompilation and Binary Building</a></li><li><a class="tocitem" href="../../basics/FAQ/">Frequently Asked Questions</a></li></ul></li><li><a class="tocitem" href="../../comparison/">Comparison of ModelingToolkit vs Equation-Based and Block Modeling Languages</a></li><li><span class="tocitem">Internal Details</span><ul><li><a class="tocitem" href="../../internals/">Internal Details</a></li><li><a class="tocitem" href="../../internals/structural_transformation/">Structural Transformation</a></li><li><a class="tocitem" href="../../internals/bipartite_graph/">Bipartite Graphs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Clocks and Sampled-Data Systems</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Clocks and Sampled-Data Systems</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/ModelingToolkit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/ModelingToolkit.jl/blob/master/docs/src/tutorials/SampledData.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Clocks-and-Sampled-Data-Systems"><a class="docs-heading-anchor" href="#Clocks-and-Sampled-Data-Systems">Clocks and Sampled-Data Systems</a><a id="Clocks-and-Sampled-Data-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Clocks-and-Sampled-Data-Systems" title="Permalink"></a></h1><p>A sampled-data system contains both continuous-time and discrete-time components, such as a continuous-time plant model and a discrete-time control system. ModelingToolkit supports the modeling and simulation of sampled-data systems by means of <em>clocks</em>.</p><div class="admonition is-danger" id="Experimental-74f31f288021fe22"><header class="admonition-header">Experimental<a class="admonition-anchor" href="#Experimental-74f31f288021fe22" title="Permalink"></a></header><div class="admonition-body"><p>The sampled-data interface is currently experimental and at any time subject to breaking changes <strong>not</strong> respecting semantic versioning.</p></div></div><div class="admonition is-info" id="Negative-shifts-3bdffd4ca86f276c"><header class="admonition-header">Negative shifts<a class="admonition-anchor" href="#Negative-shifts-3bdffd4ca86f276c" title="Permalink"></a></header><div class="admonition-body"><p>The initial release of the sampled-data interface <strong>only supports negative shifts</strong>.</p></div></div><p>A clock can be seen as an <em>event source</em>, i.e., when the clock ticks, an event is generated. In response to the event the discrete-time logic is executed, for example, a control signal is computed. For basic modeling of sampled-data systems, the user does not have to interact with clocks explicitly, instead, the modeling is performed using the operators</p><ul><li><a href="../../API/variables/#ModelingToolkit.Sample"><code>Sample</code></a></li><li><a href="../../API/variables/#ModelingToolkit.Hold"><code>Hold</code></a></li><li><a href="../../API/variables/#ModelingToolkit.ShiftIndex"><code>ShiftIndex</code></a></li></ul><p>When a continuous-time variable <code>x</code> is sampled using <code>xd = Sample(dt)(x)</code>, the result is a discrete-time variable <code>xd</code> that is defined and updated whenever the clock ticks. <code>xd</code> is <em>only defined when the clock ticks</em>, which it does with an interval of <code>dt</code>. If <code>dt</code> is unspecified, the tick rate of the clock associated with <code>xd</code> is inferred from the context in which <code>xd</code> appears. Any variable taking part in the same equation as <code>xd</code> is inferred to belong to the same <em>discrete partition</em> as <code>xd</code>, i.e., belonging to the same clock. A system may contain multiple different discrete-time partitions, each with a unique clock. This allows for modeling of multi-rate systems and discrete-time processes located on different computers etc.</p><p>To make a discrete-time variable available to the continuous partition, the <a href="../../API/variables/#ModelingToolkit.Hold"><code>Hold</code></a> operator is used. <code>xc = Hold(xd)</code> creates a continuous-time variable <code>xc</code> that is updated whenever the clock associated with <code>xd</code> ticks, and holds its value constant between ticks.</p><p>The operators <a href="../../API/variables/#ModelingToolkit.Sample"><code>Sample</code></a> and <a href="../../API/variables/#ModelingToolkit.Hold"><code>Hold</code></a> are thus providing the interface between continuous and discrete partitions.</p><p>The <a href="../../API/variables/#ModelingToolkit.ShiftIndex"><code>ShiftIndex</code></a> operator is used to refer to past and future values of discrete-time variables. The example below illustrates its use, implementing the discrete-time system</p><p class="math-container">\[\begin{align}
    x(k+1) &amp;= 0.5x(k) + u(k) \\ 
    y(k) &amp;= x(k)
\end{align}\]</p><pre><code class="language-julia hljs">using ModelingToolkit
using ModelingToolkit: t_nounits as t
@variables x(t) y(t) u(t)
dt = 0.1                # Sample interval
clock = Clock(dt)    # A periodic clock with tick rate dt
k = ShiftIndex(clock)

eqs = [
    x(k) ~ 0.5x(k - 1) + u(k - 1),
    y ~ x
]</code></pre><p class="math-container">\[ \begin{align}
x\left( t \right) &amp;= 0.5 Shift(t, -1)\left( x\left( t \right) \right) + Shift(t, -1)\left( u\left( t \right) \right) \\
y\left( t \right) &amp;= x\left( t \right)
\end{align}
 \]</p><p>A few things to note in this basic example:</p><ul><li>The equation <code>x(k+1) = 0.5x(k) + u(k)</code> has been rewritten in terms of negative shifts since positive shifts are not yet supported.</li><li><code>x</code> and <code>u</code> are automatically inferred to be discrete-time variables, since they appear in an equation with a discrete-time <a href="../../API/variables/#ModelingToolkit.ShiftIndex"><code>ShiftIndex</code></a> <code>k</code>.</li><li><code>y</code> is also automatically inferred to be a discrete-time-time variable, since it appears in an equation with another discrete-time variable <code>x</code>. <code>x,u,y</code> all belong to the same discrete-time partition, i.e., they are all updated at the same <em>instantaneous point in time</em> at which the clock ticks.</li><li>The equation <code>y ~ x</code> does not use any shift index, this is equivalent to <code>y(k) ~ x(k)</code>, i.e., discrete-time variables without shift index are assumed to refer to the variable at the current time step.</li><li>The equation <code>x(k) ~ 0.5x(k-1) + u(k-1)</code> indicates how <code>x</code> is updated, i.e., what the value of <code>x</code> will be at the <em>current</em> time step in terms of the <em>past</em> value. The output <code>y</code>, is given by the value of <code>x</code> at the <em>current</em> time step, i.e., <code>y(k) ~ x(k)</code>. If this logic was implemented in an imperative programming style, the logic would thus be</li></ul><pre><code class="language-julia hljs">function discrete_step(x, u)
    x = 0.5x + u # x is updated to a new value, i.e., x(k) is computed
    y = x # y is assigned the current value of x, y(k) = x(k)
    return x, y # The state x now refers to x at the current time step, x(k), and y equals x, y(k) = x(k)
end</code></pre><p>An alternative and <em>equivalent</em> way of writing the same system is</p><pre><code class="language-julia hljs">eqs = [
    x(k + 1) ~ 0.5x(k) + u(k),
    y(k) ~ x(k)
]</code></pre><p class="math-container">\[ \begin{align}
Shift(t, 1)\left( x\left( t \right) \right) &amp;= u\left( t \right) + 0.5 x\left( t \right) \\
y\left( t \right) &amp;= x\left( t \right)
\end{align}
 \]</p><p>but the use of positive time shifts is not yet supported. Instead, we <em>shifted all indices</em> by <code>-1</code> above, resulting in exactly the same difference equations. However, the next system is <em>not equivalent</em> to the previous one:</p><pre><code class="language-julia hljs">eqs = [
    x(k) ~ 0.5x(k - 1) + u(k),
    y ~ x
]</code></pre><p class="math-container">\[ \begin{align}
x\left( t \right) &amp;= u\left( t \right) + 0.5 Shift(t, -1)\left( x\left( t \right) \right) \\
y\left( t \right) &amp;= x\left( t \right)
\end{align}
 \]</p><p>In this last example, <code>u(k)</code> refers to the input at the new time point <code>k</code>., this system is equivalent to</p><pre><code class="nohighlight hljs">eqs = [
    x(k+1) ~ 0.5x(k) + u(k+1),
    y(k) ~ x(k)
]</code></pre><h2 id="Higher-order-shifts"><a class="docs-heading-anchor" href="#Higher-order-shifts">Higher-order shifts</a><a id="Higher-order-shifts-1"></a><a class="docs-heading-anchor-permalink" href="#Higher-order-shifts" title="Permalink"></a></h2><p>The expression <code>x(k-1)</code> refers to the value of <code>x</code> at the <em>previous</em> clock tick. Similarly, <code>x(k-2)</code> refers to the value of <code>x</code> at the clock tick before that. In general, <code>x(k-n)</code> refers to the value of <code>x</code> at the <code>n</code>th clock tick before the current one. As an example, the Z-domain transfer function</p><p class="math-container">\[H(z) = \dfrac{b_2 z^2 + b_1 z + b_0}{a_2 z^2 + a_1 z + a_0}\]</p><p>may thus be modeled as</p><pre><code class="language-julia hljs">t = ModelingToolkit.t_nounits
@variables y(t) [description = &quot;Output&quot;] u(t) [description = &quot;Input&quot;]
k = ShiftIndex(Clock(dt))
eqs = [
    a2 * y(k) + a1 * y(k - 1) + a0 * y(k - 2) ~ b2 * u(k) + b1 * u(k - 1) + b0 * u(k - 2)
]</code></pre><p>(see also <a href="https://docs.sciml.ai/ModelingToolkitStandardLibrary/stable/">ModelingToolkitStandardLibrary</a> for a discrete-time transfer-function component.)</p><h2 id="Initial-conditions"><a class="docs-heading-anchor" href="#Initial-conditions">Initial conditions</a><a id="Initial-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-conditions" title="Permalink"></a></h2><p>The initial condition of discrete-time variables is defined using the <a href="../../API/variables/#ModelingToolkit.ShiftIndex"><code>ShiftIndex</code></a> operator, for example</p><pre><code class="language-julia hljs">ODEProblem(model, [x(k) =&gt; 1.0], (0.0, 10.0))</code></pre><p>If higher-order shifts are present, the corresponding initial conditions must be specified, e.g., the presence of the equation</p><pre><code class="language-julia hljs">x(k) = x(k - 1) + x(k - 2)</code></pre><p>requires specification of the initial condition for both <code>x(k-1)</code> and <code>x(k-2)</code>.</p><h2 id="Multiple-clocks"><a class="docs-heading-anchor" href="#Multiple-clocks">Multiple clocks</a><a id="Multiple-clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-clocks" title="Permalink"></a></h2><p>Multi-rate systems are easy to model using multiple different clocks. The following set of equations is valid, and defines <em>two different discrete-time partitions</em>, each with its own clock:</p><pre><code class="language-julia hljs">yd1 ~ Sample(dt1)(y)
ud1 ~ kp * (Sample(dt1)(r) - yd1)
yd2 ~ Sample(dt2)(y)
ud2 ~ kp * (Sample(dt2)(r) - yd2)</code></pre><p><code>yd1</code> and <code>ud1</code> belong to the same clock which ticks with an interval of <code>dt1</code>, while <code>yd2</code> and <code>ud2</code> belong to a different clock which ticks with an interval of <code>dt2</code>. The two clocks are <em>not synchronized</em>, i.e., they are not <em>guaranteed</em> to tick at the same point in time, even if one tick interval is a rational multiple of the other. Mechanisms for synchronization of clocks are not yet implemented.</p><h2 id="Accessing-discrete-time-variables-in-the-solution"><a class="docs-heading-anchor" href="#Accessing-discrete-time-variables-in-the-solution">Accessing discrete-time variables in the solution</a><a id="Accessing-discrete-time-variables-in-the-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-discrete-time-variables-in-the-solution" title="Permalink"></a></h2><h2 id="A-complete-example"><a class="docs-heading-anchor" href="#A-complete-example">A complete example</a><a id="A-complete-example-1"></a><a class="docs-heading-anchor-permalink" href="#A-complete-example" title="Permalink"></a></h2><p>Below, we model a simple continuous first-order system called <code>plant</code> that is controlled using a discrete-time controller <code>controller</code>. The reference signal is filtered using a discrete-time filter <code>filt</code> before being fed to the controller.</p><pre><code class="language-julia hljs">using ModelingToolkit, Plots, OrdinaryDiffEq
using ModelingToolkit: t_nounits as t
using ModelingToolkit: D_nounits as D
dt = 0.5 # Sample interval
@variables r(t)
clock = Clock(dt)
k = ShiftIndex(clock)

function plant(; name)
    @variables x(t)=1 u(t)=0 y(t)=0
    eqs = [D(x) ~ -x + u
           y ~ x]
    System(eqs, t; name = name)
end

function filt(; name) # Reference filter
    @variables x(t)=0 u(t)=0 y(t)=0
    a = 1 / exp(dt)
    eqs = [x(k) ~ a * x(k - 1) + (1 - a) * u(k)
           y ~ x]
    System(eqs, t, name = name)
end

function controller(kp; name)
    @variables y(t)=0 r(t)=0 ud(t)=0 yd(t)=0
    @parameters kp = kp
    eqs = [yd ~ Sample(y)
           ud ~ kp * (r - yd)]
    System(eqs, t; name = name)
end

@named f = filt()
@named c = controller(1)
@named p = plant()

connections = [r ~ sin(t)          # reference signal
               f.u ~ r             # reference to filter input
               f.y ~ c.r           # filtered reference to controller reference
               Hold(c.ud) ~ p.u    # controller output to plant input (zero-order-hold)
               p.y ~ c.y]          # plant output to controller feedback

@named cl = System(connections, t, systems = [f, c, p])</code></pre><p class="math-container">\[ \begin{align}
r\left( t \right) &amp;= \sin\left( t \right) \\
\mathtt{f.u}\left( t \right) &amp;= r\left( t \right) \\
\mathtt{f.y}\left( t \right) &amp;= \mathtt{c.r}\left( t \right) \\
Hold()\left( \mathtt{c.ud}\left( t \right) \right) &amp;= \mathtt{p.u}\left( t \right) \\
\mathtt{p.y}\left( t \right) &amp;= \mathtt{c.y}\left( t \right) \\
\mathtt{f.x}\left( t \right) &amp;= 0.39347 \mathtt{f.u}\left( t \right) + 0.60653 Shift(t, -1)\left( \mathtt{f.x}\left( t \right) \right) \\
\mathtt{f.y}\left( t \right) &amp;= \mathtt{f.x}\left( t \right) \\
\mathtt{c.yd}\left( t \right) &amp;= Sample(ModelingToolkit.InferredClock.var&quot;typeof(InferredClock)&quot;(ModelingToolkit.InferredClock.var&quot;##Storage#InferredDiscrete&quot;(0)))\left( \mathtt{c.y}\left( t \right) \right) \\
\mathtt{c.ud}\left( t \right) &amp;= \mathtt{c.kp} \left(  - \mathtt{c.yd}\left( t \right) + \mathtt{c.r}\left( t \right) \right) \\
\frac{\mathrm{d} \mathtt{p.x}\left( t \right)}{\mathrm{d}t} &amp;= \mathtt{p.u}\left( t \right) - \mathtt{p.x}\left( t \right) \\
\mathtt{p.y}\left( t \right) &amp;= \mathtt{p.x}\left( t \right)
\end{align}
 \]</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelingToolkit.Sample-tutorials-SampledData" href="#ModelingToolkit.Sample-tutorials-SampledData"><code>ModelingToolkit.Sample</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Sample &lt;: Symbolics.Operator</code></pre><p>Represents a sample operator. A discrete-time signal is created by sampling a continuous-time signal.</p><p><strong>Constructors</strong></p><p><code>Sample(clock::Union{TimeDomain, InferredTimeDomain} = InferredDiscrete())</code> <code>Sample(dt::Real)</code></p><p><code>Sample(x::Num)</code>, with a single argument, is shorthand for <code>Sample()(x)</code>.</p><p><strong>Fields</strong></p><ul><li><code>clock</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using Symbolics

julia&gt; t = ModelingToolkit.t_nounits

julia&gt; Δ = Sample(0.01)
(::Sample) (generic function with 2 methods)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/ModelingToolkit.jl/blob/50ea45dfb448ac1458d867495995b9840b42659b/src/discretedomain.jl#L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelingToolkit.Hold-tutorials-SampledData" href="#ModelingToolkit.Hold-tutorials-SampledData"><code>ModelingToolkit.Hold</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Hold &lt;: Symbolics.Operator</code></pre><p>Represents a hold operator. A continuous-time signal is produced by holding a discrete-time signal <code>x</code> with zero-order hold.</p><pre><code class="nohighlight hljs">cont_x = Hold()(disc_x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/ModelingToolkit.jl/blob/50ea45dfb448ac1458d867495995b9840b42659b/src/discretedomain.jl#L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ModelingToolkit.ShiftIndex-tutorials-SampledData" href="#ModelingToolkit.ShiftIndex-tutorials-SampledData"><code>ModelingToolkit.ShiftIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ShiftIndex</code></pre><p>The <code>ShiftIndex</code> operator allows you to index a signal and obtain a shifted discrete-time signal. If the signal is continuous-time, the signal is sampled before shifting.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">julia&gt; t = ModelingToolkit.t_nounits;

julia&gt; @variables x(t);

julia&gt; k = ShiftIndex(t, 0.1);

julia&gt; x(k)      # no shift
x(t)

julia&gt; x(k+1)    # shift
Shift(1)(x(t))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/ModelingToolkit.jl/blob/50ea45dfb448ac1458d867495995b9840b42659b/src/discretedomain.jl#L233-L253">source</a></section></article><div class="admonition is-warning" id="Missing-docstring.-8fba336cc14672dc"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-8fba336cc14672dc" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>Clock</code>. Check Documenter&#39;s build log for details.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../attractors/">« Multi- and Nonlocal- Continuation</a><a class="docs-footer-nextpage" href="../domain_connections/">Domains »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 13 August 2025 11:40">Wednesday 13 August 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
